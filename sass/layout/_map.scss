
// start bounce mixin ==============================================

@mixin bounce-up-down{

  -webkit-animation-duration: 1s;
  animation-duration: 1s;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
  -webkit-animation-timing-function: linear;
  animation-timing-function: linear;
  animation-iteration-count:infinite;
  -webkit-animation-iteration-count:infinite;

  -webkit-animation-name: bounce;
  animation-name: bounce;
}

@-webkit-keyframes bounce {
  0%, 20%, 50%, 80%, 100% {-webkit-transform: translateY(0);}
  40% {-webkit-transform: translateY(-10px);}
  60% {-webkit-transform: translateY(-5px);}
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
  40% {transform: translateY(-10px);}
  60% {transform: translateY(-5px);}
}

// end bounce mixin ================================================

.pf-map-tab-content{

  .pf-map-wrapper{
    position: relative;
    width: 100%;
    height: 530px;
    overflow: auto;
    padding: 5px;
    background: rgba($gray-darker, 0.93);
    box-shadow:inset -3px 3px 10px 0 rgba($black, 0.3);
    @include border-bottom-radius(5px);
    border: {
      width: 1px;
      style: solid;
      color: $gray-lighter;
    }
  }
}

.pf-map-overlay{
  position: absolute;
  display: none; // triggered by js
  z-index: 10000;
  width: 36px;
  height: 36px;
  bottom: 23px;
  right: 10px;
  background: rgba($black, 0.2);
  @include border-radius(5px);
}

// 20x20px grid background
.pf-grid-small{
  background: url("#{$base-url}/grid_20x20.png") !important;
}


.pf-map{
  width: 2000px;
  height: 500px;
  position: relative;

  .pf-system{
    position: absolute;
    min-width: 80px;
    height: auto;
    background-color: $gray-dark;
    z-index: 100;

    //@include bounce-up-down;

    @include border-radius(5px);
    border: {
      width: 2px;
      style: solid;
      color: $gray-light;
    }

    .pf-system-head{
      padding: 0px 3px 2px 3px;
      cursor: pointer;

      .pf-system-head-name{
        border: none;
        display: inline-block;
        min-width: 41px;
        color: $gray-lighter;
        margin-right: 2px;
      }

      .fa-lock{
        display: none; // triggered by system-lock class
      }

      .pf-system-head-expand{
        margin-left: 2px;
        color: $gray-light;
        display: none;  // triggered by JS
      }
    }

    // ===============================================================

    .pf-system-body{
      height: 16px;
      width: 100%;
      overflow: hidden;
      cursor: -moz-grab;
      cursor: -webkit-grab;
      cursor: grab;
      padding: 0 2px;
      white-space: nowrap;
      display: none;  // triggered by JS

      border: {
        top: {
          width: 1px;
          style: dashed;
          color: $gray-light;
        }
      }



      .pf-system-body-item{
        color: $gray-light;
        font-size: 10px;

        .pf-system-body-right{
          float: right;
          color: $teal;
          display: none; // hover effect
        }
        // user status =================================================
        .pf-user-status{
          font-size: 7px;
        }

        .pf-user-status-corp{
          color: $green;
        }

        .pf-user-status-ally{
          color: $blue;
        }

      }

    }

    // system specific tooltip style
    .tooltip{

      &.in{
        opacity: 1;
      }
      
      .tooltip-inner{
        color: $gray-dark;
        background-color: $gray-lighter;
        padding: 3px 3px;
      }
      
    }



  }

  // active system
  .pf-system-active:not(.pf-map-endpoint-source):not(.pf-map-endpoint-target){
    @include box-shadow($yellow-lighter 0px 0px 8px 0px);
  }


  // selected system
  .pf-system-selected:not(.pf-map-endpoint-source):not(.pf-map-endpoint-target){
    @include box-shadow($red-darkest 0px 0px 8px 0px);

    .pf-system-head, .pf-system-body{
      background-color: $red-darkest;
    }
  }

  // locked system
  .pf-system-locked{
    color: $gray-light;

    .pf-system-sec{
      cursor: default !important;
    }

    .pf-system-body{
      cursor: default !important;
    }

    .fa-lock{
      display: inline-block !important;
    }
  }

  // Endpoints ====================================================
  .pf-map-endpoint-source, .pf-map-endpoint-target{

    z-index: 50;
    svg {
      width: 10;
      height: 10;

      *{
        stroke: $gray-light;
        stroke-width: 2; // border width
        fill: $gray;
        cursor: pointer;

        &:hover{
          stroke: $gray-lightest; // hover style
        }
      }

    }
  }
  // Connections ==================================================

  // default hover effect for all connections
  svg._jsPlumb_connector{
    cursor: pointer;
    stroke-linecap: round; // line endings

    path:not(first-child){
      stroke: $gray; // inner line
    }

    path:first-child{
      stroke: $gray-light; // outer line
    }

    &:hover{
      path:first-child{
        stroke: $gray-lightest; // hover style
      }
    }
  }


  svg.pf-map-connection-wh  {
    // special wh-connection style (
  }

  svg.pf-map-connection-wh-eol  {

    path:first-child{
      stroke: $pink-dark;
    }

    &:hover{
      path:first-child{
        stroke: $pink;
      }
    }
  }

  svg.pf-map-connection-wh-reduced  {

    path:not(first-child){
      stroke: $orange;
    }
  }

  svg.pf-map-connection-wh-critical  {

    path:not(first-child){
      stroke: $red-darker;
    }
  }

  // Connection overlay ===========================================
  .pf-map-connection-overlay{
    padding: 1px 4px;
    font-size: 10.4px;
    @include border-radius(3px);
  }

  .frig{
    background-color: $orange-light;
    color: $gray-darkest;
  }

  .mass{
    background-color: $red-darker;
    color: #eaeaea;
  }


}

// dialoges =======================================================
.ui-dialog-content{
  label{
    min-width: 60px;
  }
}

// context menu ==================================================
.dropdown-menu{
  z-index: 1020; // over tooltips

  i{
    width: 20px
  }
}





